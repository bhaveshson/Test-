<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For You ğŸ’–</title>

<!-- âœ… External CSS -->
<link rel="stylesheet" href="style.css">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;600&display=swap" rel="stylesheet">
</head>

<body>

<div class="card">

  <!-- ğŸ“¸ Slideshow -->
  <div class="slideshow">
    <img id="slideImg" src="">
  </div>

  <!-- ğŸ’Œ Title -->
  <h1 id="title">Will You Be My Valentine? ğŸ’–</h1>

  <!-- ğŸ¥¹ Poem Section -->
  <div class="poemBox">
    <button id="readHeartBtn">ğŸ’Œ Read My Heart</button>
    <div id="typedPoem" class="typedPoem"></div>
  </div>

  <!-- â¤ï¸ Buttons -->
  <div class="buttons">
    <button id="yesBtn">YES ğŸ˜</button>
    <button id="noBtn">NO ğŸ˜¢</button>
  </div>

  <!-- ğŸ‰ Success Message -->
  <div id="message">YAYYY â¤ï¸ You just made me the happiest person!!! ğŸ¥¹ğŸ’</div>

</div>

<!-- ğŸµ Music -->
<audio id="bgMusic" loop>
  <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mp3">
</audio>

<!-- ğŸŠ Confetti library -->
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<script>
// ğŸ’Œ Name from URL
const params = new URLSearchParams(window.location.search);
const name = params.get("name") || "Nandini";
document.getElementById("title").innerHTML =
  `Will You Be My Valentine, ${name}? ğŸ’–`;

// ğŸ“¸ Romantic slideshow photos
const photos = [
  "https://images.unsplash.com/photo-1518199266791-5375a83190b7",
  "https://images.unsplash.com/photo-1519681393784-d120267933ba",
  "https://images.unsplash.com/photo-1501908734255-16579c18c25f",
  "https://images.unsplash.com/photo-1517841905240-472988babdf9"
];

let i = 0;
const slide = document.getElementById("slideImg");
slide.src = photos[0];

setInterval(() => {
  i = (i + 1) % photos.length;
  slide.src = photos[i];
}, 2200);

// ğŸµ autoplay after first tap
document.body.addEventListener("click", () => {
  document.getElementById("bgMusic").play();
}, { once: true });

// ğŸ§  Personalized poem
const poemText =
`From the moment you smiled at me ğŸ’«
My world felt softer instantlyâ€¦

${name}, youâ€™re my little piece of art ğŸ¨
The calm, the chaos, the beat of my heart ğŸ’“

So here I am, a little shy, a little trueâ€¦
Just hoping somedayâ€¦ itâ€™s me and you ğŸ’–`;

let typed = false;
document.getElementById("readHeartBtn").addEventListener("click", () => {
  if (typed) return;
  typed = true;

  const el = document.getElementById("typedPoem");
  let j = 0;

  function type() {
    if (j < poemText.length) {
      el.innerHTML += poemText.charAt(j);
      j++;
      setTimeout(type, 35);
    }
  }
  type();
});

// ğŸ”¥ NO button escape + YES grow
let noScale = 1;
let yesScale = 1;
const noBtn = document.getElementById("noBtn");
const yesBtn = document.getElementById("yesBtn");

function moveNo() {
  noScale -= 0.12;
  if (noScale < 0.35) noScale = 0.35;
  noBtn.style.transform = `scale(${noScale}) rotate(${Math.random()*360}deg)`;

  yesScale += 0.08;
  yesBtn.style.transform = `scale(${yesScale})`;

  const x = Math.random() * (window.innerWidth - 120);
  const y = Math.random() * (window.innerHeight - 120);
  noBtn.style.left = x + "px";
  noBtn.style.top = y + "px";
}

noBtn.addEventListener("mouseover", moveNo);
noBtn.addEventListener("touchstart", moveNo);

// ğŸ‰ YES celebration + WhatsApp
yesBtn.addEventListener("click", () => {
  document.getElementById("message").style.display = "block";
  confetti({ particleCount: 300, spread: 140 });

  setTimeout(() => {
    const msg = `I said YES â¤ï¸ğŸ¥¹`;
    const url = `https://wa.me/?text=${encodeURIComponent(msg)}`;
    window.open(url, "_blank");
  }, 1800);
});

// ğŸ’– floating hearts
function heart() {
  const h = document.createElement("div");
  h.className = "heart";
  h.innerHTML = "ğŸ’–";
  h.style.left = Math.random() * 100 + "vw";
  h.style.fontSize = (20 + Math.random() * 25) + "px";
  h.style.animationDuration = (4 + Math.random() * 3) + "s";
  document.body.appendChild(h);
  setTimeout(() => h.remove(), 6000);
}
setInterval(heart, 450);

// ğŸŒ¹ falling petals
function createPetal(){
  const p=document.createElement("div");
  p.className="petal";
  p.innerHTML="ğŸŒ¹";
  p.style.left=Math.random()*100+"vw";
  p.style.fontSize=(16+Math.random()*20)+"px";
  p.style.animationDuration=(5+Math.random()*4)+"s";
  document.body.appendChild(p);
  setTimeout(()=>p.remove(),9000);
}
setInterval(createPetal,900);
</script>

</body>
</html>
