<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Someone Special â¤ï¸</title>
<link rel="stylesheet" href="style.css">
</head>

<body>

<!-- ğŸŒ¹ Falling Petals -->
<div class="petals"></div>

<h1 id="mainTitle">Will You Be My Valentine? ğŸ’–</h1>

<!-- ğŸ’‘ Couple Scene -->
<div class="couple-scene">
  <div class="moon"></div>
  <div class="couple">
    <div class="boy"></div>
    <div class="girl"></div>
    <div class="heart-float">â¤</div>
  </div>
</div>

<!-- ğŸµ Music Selector -->
<div class="music-box">
  <label>ğŸµ Choose our song:</label>
  <select id="musicSelect">
    <option value="">-- Select Romantic Song --</option>
    <option value="song1">Romantic Piano</option>
    <option value="song2">Soft Love Theme</option>
    <option value="song3">Cute Romantic Tune</option>
  </select>
</div>

<audio id="bgMusic" loop></audio>

<!-- ğŸ¥¹ Poem -->
<div class="poem-box">
  <p id="typingPoem"></p>
</div>

<div class="buttons">
  <button id="yesBtn">YES ğŸ˜</button>
  <button id="noBtn">NO ğŸ˜¢</button>
</div>

<div id="message">
  Yayyyyy â¤ï¸ <span id="herName"></span> just made my day!!! ğŸ‰ğŸ’
  <br><br>
  <button id="shareBtn">ğŸ“± Tell WhatsApp</button>
</div>

<script>
// â¤ï¸ Get name from URL
const params = new URLSearchParams(window.location.search);
const herName = params.get("name") || "Nandini";

// Update title + message
document.getElementById("mainTitle").innerHTML =
  `Will You Be My Valentine, ${herName}? ğŸ’–`;

document.getElementById("herName").innerText = herName;

// ğŸµ Music
const musicSelect = document.getElementById("musicSelect");
const bgMusic = document.getElementById("bgMusic");

const songs = {
  song1: "https://cdn.pixabay.com/audio/2022/03/15/audio_c8c8a73467.mp3",
  song2: "https://cdn.pixabay.com/audio/2022/10/25/audio_946c0d1c8d.mp3",
  song3: "https://cdn.pixabay.com/audio/2022/11/03/audio_2b4c0d9f3b.mp3"
};

musicSelect.addEventListener("change", () => {
  const selected = musicSelect.value;
  if (songs[selected]) {
    bgMusic.src = songs[selected];
    bgMusic.play().catch(() => {});
  }
});

// Buttons
const noBtn = document.getElementById("noBtn");
const yesBtn = document.getElementById("yesBtn");
const message = document.getElementById("message");

// ğŸ˜ˆ NO escapes + shrinks
let noScale = 1;

noBtn.addEventListener("mouseover", () => {
  const x = Math.random() * (window.innerWidth - 100);
  const y = Math.random() * (window.innerHeight - 50);
  noBtn.style.left = x + "px";
  noBtn.style.top = y + "px";

  noScale -= 0.1;
  if (noScale > 0.3) {
    noBtn.style.transform = `scale(${noScale})`;
  }
});

// ğŸ’– YES click
yesBtn.addEventListener("click", () => {
  message.style.display = "block";
  createHeartBurst();
});

// ğŸ† Heart burst
function createHeartBurst() {
  for (let i = 0; i < 20; i++) {
    const heart = document.createElement("div");
    heart.innerHTML = "ğŸ’–";
    heart.className = "heart-burst";
    heart.style.left = (window.innerWidth / 2) + "px";
    heart.style.top = (window.innerHeight / 2) + "px";
    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 2000);
  }
}

// ğŸ“± WhatsApp share
document.getElementById("shareBtn").addEventListener("click", () => {
  const text = encodeURIComponent(`${herName} said YES to me! â¤ï¸ğŸ¥¹`);
  window.open(`https://wa.me/?text=${text}`, "_blank");
});

// ğŸ¥¹ Typing poem with her name
const poemText = `${herName}, from the moment you smiled at me,
my world became brighter than the stars âœ¨
If you stay with me forever,
I promise to guard your heart forever â¤ï¸`;

let i = 0;
function typePoem() {
  if (i < poemText.length) {
    document.getElementById("typingPoem").innerHTML += poemText.charAt(i);
    i++;
    setTimeout(typePoem, 40);
  }
}
typePoem();

// ğŸŒ¹ Falling petals
const petalsContainer = document.querySelector(".petals");

for (let i = 0; i < 25; i++) {
  const petal = document.createElement("div");
  petal.className = "petal";
  petal.style.left = Math.random() * 100 + "vw";
  petal.style.animationDuration = (5 + Math.random() * 5) + "s";
  petalsContainer.appendChild(petal);
}
</script>

</body>
</html>
